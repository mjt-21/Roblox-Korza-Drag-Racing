-- Services
local ReplicatedStorage = game:GetService("ReplicatedStorage")

-- Variables
local FinishLine = game.Workspace.FinishLine
local BoolValue = game.ServerStorage.FinishLineActivate
local ReceiverBindable = ReplicatedStorage:WaitForChild("FinishLine")

PlayerName = nil

FinishLine.Touched:Connect(function(hit)
	if game.Players:GetPlayerFromCharacter(hit.Parent) then
		PlayerName = tostring(hit.Parent.Name)
		BoolValue.Value = true
		if BoolValue.Value == true then
			BoolValue.Value = false
		end
    end
end)

ReceiverBindable.OnInvoke = function(PlayerAssignments)
	for Var, Players in pairs(PlayerAssignments) do
		if PlayerName == Players.Name then
			Players.Bool.Value = true
			break
		end
	end
end
